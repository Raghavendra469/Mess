function cov_25cb01uzrf(){var path="C:\\capstone on friday\\Mess\\RMS\\server\\repositories\\songRepository.js";var hash="045038189f24fa05736ae2fbb7ba3535e53f9afe";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\capstone on friday\\Mess\\RMS\\server\\repositories\\songRepository.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:43}},"1":{start:{line:2,column:15},end:{line:2,column:47}},"2":{start:{line:3,column:16},end:{line:3,column:49}},"3":{start:{line:7,column:4},end:{line:7,column:39}},"4":{start:{line:11,column:4},end:{line:11,column:49}},"5":{start:{line:15,column:4},end:{line:15,column:41}},"6":{start:{line:19,column:4},end:{line:19,column:39}},"7":{start:{line:23,column:4},end:{line:23,column:78}},"8":{start:{line:27,column:4},end:{line:27,column:64}},"9":{start:{line:28,column:4},end:{line:28,column:51}},"10":{start:{line:32,column:4},end:{line:36,column:6}},"11":{start:{line:40,column:4},end:{line:44,column:6}},"12":{start:{line:48,column:4},end:{line:48,column:45}},"13":{start:{line:52,column:4},end:{line:52,column:47}},"14":{start:{line:56,column:0},end:{line:56,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:29},end:{line:12,column:3}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:38},end:{line:16,column:3}},line:14},"3":{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:34},end:{line:20,column:3}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:39},end:{line:24,column:3}},line:22},"5":{name:"(anonymous_5)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:27},end:{line:29,column:3}},line:26},"6":{name:"(anonymous_6)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:42},end:{line:37,column:3}},line:31},"7":{name:"(anonymous_7)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:47},end:{line:45,column:3}},line:39},"8":{name:"(anonymous_8)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:35},end:{line:49,column:3}},line:47},"9":{name:"(anonymous_9)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:30},end:{line:53,column:3}},line:51}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"045038189f24fa05736ae2fbb7ba3535e53f9afe"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_25cb01uzrf=function(){return actualCoverage;};}return actualCoverage;}cov_25cb01uzrf();const Song=(cov_25cb01uzrf().s[0]++,require('../models/songModel'));const Artist=(cov_25cb01uzrf().s[1]++,require('../models/artistModel'));const Royalty=(cov_25cb01uzrf().s[2]++,require('../models/royaltyModel'));class SongRepository{async createSong(songData){cov_25cb01uzrf().f[0]++;cov_25cb01uzrf().s[3]++;return await Song.create(songData);}async findSongById(songId){cov_25cb01uzrf().f[1]++;cov_25cb01uzrf().s[4]++;return await Song.findOne({songId:songId});}async findSongsByArtistId(artistId){cov_25cb01uzrf().f[2]++;cov_25cb01uzrf().s[5]++;return await Song.find({artistId});}async findSongsBySongId(songId){cov_25cb01uzrf().f[3]++;cov_25cb01uzrf().s[6]++;return await Song.find({songId});}async modifySong(songId,updateData){cov_25cb01uzrf().f[4]++;cov_25cb01uzrf().s[7]++;return await Song.findOneAndUpdate({songId},updateData,{new:true});}async removeSong(songId){cov_25cb01uzrf().f[5]++;cov_25cb01uzrf().s[8]++;console.log(songId,"removesong----------------------------");cov_25cb01uzrf().s[9]++;return await Song.findOneAndDelete({songId});}async addSongToArtist(artistId,songId){cov_25cb01uzrf().f[6]++;cov_25cb01uzrf().s[10]++;return await Artist.findByIdAndUpdate(artistId,{$addToSet:{songs:songId}},{new:true});}async removeSongFromArtist(artistId,songId){cov_25cb01uzrf().f[7]++;cov_25cb01uzrf().s[11]++;return await Artist.findByIdAndUpdate(artistId,{$pull:{songs:songId}},{new:true});}async createRoyalty(royaltyData){cov_25cb01uzrf().f[8]++;cov_25cb01uzrf().s[12]++;return await Royalty.create(royaltyData);}async deleteRoyalty(songId){cov_25cb01uzrf().f[9]++;cov_25cb01uzrf().s[13]++;return await Royalty.deleteOne({songId});}}cov_25cb01uzrf().s[14]++;module.exports=SongRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjVjYjAxdXpyZiIsImFjdHVhbENvdmVyYWdlIiwiU29uZyIsInMiLCJyZXF1aXJlIiwiQXJ0aXN0IiwiUm95YWx0eSIsIlNvbmdSZXBvc2l0b3J5IiwiY3JlYXRlU29uZyIsInNvbmdEYXRhIiwiZiIsImNyZWF0ZSIsImZpbmRTb25nQnlJZCIsInNvbmdJZCIsImZpbmRPbmUiLCJmaW5kU29uZ3NCeUFydGlzdElkIiwiYXJ0aXN0SWQiLCJmaW5kIiwiZmluZFNvbmdzQnlTb25nSWQiLCJtb2RpZnlTb25nIiwidXBkYXRlRGF0YSIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJyZW1vdmVTb25nIiwiY29uc29sZSIsImxvZyIsImZpbmRPbmVBbmREZWxldGUiLCJhZGRTb25nVG9BcnRpc3QiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRhZGRUb1NldCIsInNvbmdzIiwicmVtb3ZlU29uZ0Zyb21BcnRpc3QiLCIkcHVsbCIsImNyZWF0ZVJveWFsdHkiLCJyb3lhbHR5RGF0YSIsImRlbGV0ZVJveWFsdHkiLCJkZWxldGVPbmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsic29uZ1JlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU29uZyA9IHJlcXVpcmUoJy4uL21vZGVscy9zb25nTW9kZWwnKTtcclxuY29uc3QgQXJ0aXN0ID0gcmVxdWlyZSgnLi4vbW9kZWxzL2FydGlzdE1vZGVsJyk7XHJcbmNvbnN0IFJveWFsdHkgPSByZXF1aXJlKCcuLi9tb2RlbHMvcm95YWx0eU1vZGVsJyk7XHJcblxyXG5jbGFzcyBTb25nUmVwb3NpdG9yeSB7XHJcbiAgYXN5bmMgY3JlYXRlU29uZyhzb25nRGF0YSkge1xyXG4gICAgcmV0dXJuIGF3YWl0IFNvbmcuY3JlYXRlKHNvbmdEYXRhKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZpbmRTb25nQnlJZChzb25nSWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBTb25nLmZpbmRPbmUoeyBzb25nSWQ6c29uZ0lkIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZmluZFNvbmdzQnlBcnRpc3RJZChhcnRpc3RJZCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IFNvbmcuZmluZCh7IGFydGlzdElkIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZmluZFNvbmdzQnlTb25nSWQoc29uZ0lkKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgU29uZy5maW5kKHsgc29uZ0lkIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgbW9kaWZ5U29uZyhzb25nSWQsIHVwZGF0ZURhdGEpIHtcclxuICAgIHJldHVybiBhd2FpdCBTb25nLmZpbmRPbmVBbmRVcGRhdGUoeyBzb25nSWQgfSwgdXBkYXRlRGF0YSwgeyBuZXc6IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyByZW1vdmVTb25nKHNvbmdJZCkge1xyXG4gICAgY29uc29sZS5sb2coc29uZ0lkLFwicmVtb3Zlc29uZy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIilcclxuICAgIHJldHVybiBhd2FpdCBTb25nLmZpbmRPbmVBbmREZWxldGUoeyBzb25nSWQgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBhZGRTb25nVG9BcnRpc3QoYXJ0aXN0SWQsIHNvbmdJZCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IEFydGlzdC5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgYXJ0aXN0SWQsXHJcbiAgICAgIHsgJGFkZFRvU2V0OiB7IHNvbmdzOiBzb25nSWQgfSB9LFxyXG4gICAgICB7IG5ldzogdHJ1ZSB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVtb3ZlU29uZ0Zyb21BcnRpc3QoYXJ0aXN0SWQsIHNvbmdJZCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IEFydGlzdC5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgYXJ0aXN0SWQsXHJcbiAgICAgIHsgJHB1bGw6IHsgc29uZ3M6IHNvbmdJZCB9IH0sXHJcbiAgICAgIHsgbmV3OiB0cnVlIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBjcmVhdGVSb3lhbHR5KHJveWFsdHlEYXRhKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgUm95YWx0eS5jcmVhdGUocm95YWx0eURhdGEpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlUm95YWx0eShzb25nSWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBSb3lhbHR5LmRlbGV0ZU9uZSh7IHNvbmdJZCB9KTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gU29uZ1JlcG9zaXRvcnk7XHJcbiJdLCJtYXBwaW5ncyI6InUvRkFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLElBQUksRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxFQUMzQyxLQUFNLENBQUFDLE1BQU0sRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxFQUMvQyxLQUFNLENBQUFFLE9BQU8sRUFBQU4sY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxFQUVqRCxLQUFNLENBQUFHLGNBQWUsQ0FDbkIsS0FBTSxDQUFBQyxVQUFVQSxDQUFDQyxRQUFRLENBQUUsQ0FBQVQsY0FBQSxHQUFBVSxDQUFBLE1BQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUN6QixNQUFPLE1BQU0sQ0FBQUQsSUFBSSxDQUFDUyxNQUFNLENBQUNGLFFBQVEsQ0FBQyxDQUNwQyxDQUVBLEtBQU0sQ0FBQUcsWUFBWUEsQ0FBQ0MsTUFBTSxDQUFFLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFHLENBQUEsTUFDekIsTUFBTyxNQUFNLENBQUFELElBQUksQ0FBQ1ksT0FBTyxDQUFDLENBQUVELE1BQU0sQ0FBQ0EsTUFBTyxDQUFDLENBQUMsQ0FDOUMsQ0FFQSxLQUFNLENBQUFFLG1CQUFtQkEsQ0FBQ0MsUUFBUSxDQUFFLENBQUFoQixjQUFBLEdBQUFVLENBQUEsTUFBQVYsY0FBQSxHQUFBRyxDQUFBLE1BQ2xDLE1BQU8sTUFBTSxDQUFBRCxJQUFJLENBQUNlLElBQUksQ0FBQyxDQUFFRCxRQUFTLENBQUMsQ0FBQyxDQUN0QyxDQUVBLEtBQU0sQ0FBQUUsaUJBQWlCQSxDQUFDTCxNQUFNLENBQUUsQ0FBQWIsY0FBQSxHQUFBVSxDQUFBLE1BQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUM5QixNQUFPLE1BQU0sQ0FBQUQsSUFBSSxDQUFDZSxJQUFJLENBQUMsQ0FBRUosTUFBTyxDQUFDLENBQUMsQ0FDcEMsQ0FFQSxLQUFNLENBQUFNLFVBQVVBLENBQUNOLE1BQU0sQ0FBRU8sVUFBVSxDQUFFLENBQUFwQixjQUFBLEdBQUFVLENBQUEsTUFBQVYsY0FBQSxHQUFBRyxDQUFBLE1BQ25DLE1BQU8sTUFBTSxDQUFBRCxJQUFJLENBQUNtQixnQkFBZ0IsQ0FBQyxDQUFFUixNQUFPLENBQUMsQ0FBRU8sVUFBVSxDQUFFLENBQUVFLEdBQUcsQ0FBRSxJQUFLLENBQUMsQ0FBQyxDQUMzRSxDQUVBLEtBQU0sQ0FBQUMsVUFBVUEsQ0FBQ1YsTUFBTSxDQUFFLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFHLENBQUEsTUFDdkJxQixPQUFPLENBQUNDLEdBQUcsQ0FBQ1osTUFBTSxDQUFDLHdDQUF3QyxDQUFDLENBQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUM1RCxNQUFPLE1BQU0sQ0FBQUQsSUFBSSxDQUFDd0IsZ0JBQWdCLENBQUMsQ0FBRWIsTUFBTyxDQUFDLENBQUMsQ0FDaEQsQ0FFQSxLQUFNLENBQUFjLGVBQWVBLENBQUNYLFFBQVEsQ0FBRUgsTUFBTSxDQUFFLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFHLENBQUEsT0FDdEMsTUFBTyxNQUFNLENBQUFFLE1BQU0sQ0FBQ3VCLGlCQUFpQixDQUNuQ1osUUFBUSxDQUNSLENBQUVhLFNBQVMsQ0FBRSxDQUFFQyxLQUFLLENBQUVqQixNQUFPLENBQUUsQ0FBQyxDQUNoQyxDQUFFUyxHQUFHLENBQUUsSUFBSyxDQUNkLENBQUMsQ0FDSCxDQUVBLEtBQU0sQ0FBQVMsb0JBQW9CQSxDQUFDZixRQUFRLENBQUVILE1BQU0sQ0FBRSxDQUFBYixjQUFBLEdBQUFVLENBQUEsTUFBQVYsY0FBQSxHQUFBRyxDQUFBLE9BQzNDLE1BQU8sTUFBTSxDQUFBRSxNQUFNLENBQUN1QixpQkFBaUIsQ0FDbkNaLFFBQVEsQ0FDUixDQUFFZ0IsS0FBSyxDQUFFLENBQUVGLEtBQUssQ0FBRWpCLE1BQU8sQ0FBRSxDQUFDLENBQzVCLENBQUVTLEdBQUcsQ0FBRSxJQUFLLENBQ2QsQ0FBQyxDQUNILENBRUEsS0FBTSxDQUFBVyxhQUFhQSxDQUFDQyxXQUFXLENBQUUsQ0FBQWxDLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFHLENBQUEsT0FDL0IsTUFBTyxNQUFNLENBQUFHLE9BQU8sQ0FBQ0ssTUFBTSxDQUFDdUIsV0FBVyxDQUFDLENBQzFDLENBRUEsS0FBTSxDQUFBQyxhQUFhQSxDQUFDdEIsTUFBTSxDQUFFLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFHLENBQUEsT0FDMUIsTUFBTyxNQUFNLENBQUFHLE9BQU8sQ0FBQzhCLFNBQVMsQ0FBQyxDQUFFdkIsTUFBTyxDQUFDLENBQUMsQ0FDNUMsQ0FDRixDQUFDYixjQUFBLEdBQUFHLENBQUEsT0FFRGtDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHL0IsY0FBYyIsImlnbm9yZUxpc3QiOltdfQ==