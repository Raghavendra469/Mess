function cov_2nszahwbyy(){var path="C:\\final project all things done\\server\\songModule\\repositories\\royaltyRepository.js";var hash="c34590577249d42b6e0f66e4d95a69b501f24809";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\final project all things done\\server\\songModule\\repositories\\royaltyRepository.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:49}},"1":{start:{line:2,column:11},end:{line:2,column:41}},"2":{start:{line:3,column:15},end:{line:3,column:47}},"3":{start:{line:8,column:24},end:{line:8,column:64}},"4":{start:{line:10,column:8},end:{line:10,column:36}},"5":{start:{line:15,column:8},end:{line:15,column:52}},"6":{start:{line:20,column:8},end:{line:20,column:97}},"7":{start:{line:24,column:8},end:{line:24,column:54}},"8":{start:{line:28,column:8},end:{line:31,column:10}},"9":{start:{line:36,column:0},end:{line:36,column:35}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:44},end:{line:11,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:30},end:{line:16,column:5}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:35},end:{line:21,column:5}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:40},end:{line:25,column:5}},line:23},"4":{name:"(anonymous_4)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:102},end:{line:32,column:5}},line:27}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c34590577249d42b6e0f66e4d95a69b501f24809"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2nszahwbyy=function(){return actualCoverage;};}return actualCoverage;}cov_2nszahwbyy();const Royalty=(cov_2nszahwbyy().s[0]++,require('../models/royaltyModel'));const Song=(cov_2nszahwbyy().s[1]++,require('../models/songModel'));const Artist=(cov_2nszahwbyy().s[2]++,require('../models/artistModel'));class RoyaltyRepository{// Create a new royalty
async create(royaltyId,artistId,songId){cov_2nszahwbyy().f[0]++;const royalty=(cov_2nszahwbyy().s[3]++,new Royalty({royaltyId,artistId,songId}));cov_2nszahwbyy().s[4]++;return await royalty.save();}// Get royalty by ID
async findById(royaltyId){cov_2nszahwbyy().f[1]++;cov_2nszahwbyy().s[5]++;return await Royalty.findOne({royaltyId});}// Get royalties by artist ID
async findByArtistId(artistId){cov_2nszahwbyy().f[2]++;cov_2nszahwbyy().s[6]++;return await Royalty.find({artistId:artistId}).populate('artistId').populate('songId');}async findSongsByArtistId(artistId){cov_2nszahwbyy().f[3]++;cov_2nszahwbyy().s[7]++;return await Song.find({artistId:artistId});}async updateArtistRoyalty(artistId,fullRoyalty,totalRoyaltyPaid,totalRoyaltyDue,totalStreams){cov_2nszahwbyy().f[4]++;cov_2nszahwbyy().s[8]++;return await Artist.findOneAndUpdate({_id:artistId},{fullRoyalty,totalRoyaltyPaid,totalRoyaltyDue,totalStreams});}}cov_2nszahwbyy().s[9]++;module.exports=RoyaltyRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm5zemFod2J5eSIsImFjdHVhbENvdmVyYWdlIiwiUm95YWx0eSIsInMiLCJyZXF1aXJlIiwiU29uZyIsIkFydGlzdCIsIlJveWFsdHlSZXBvc2l0b3J5IiwiY3JlYXRlIiwicm95YWx0eUlkIiwiYXJ0aXN0SWQiLCJzb25nSWQiLCJmIiwicm95YWx0eSIsInNhdmUiLCJmaW5kQnlJZCIsImZpbmRPbmUiLCJmaW5kQnlBcnRpc3RJZCIsImZpbmQiLCJwb3B1bGF0ZSIsImZpbmRTb25nc0J5QXJ0aXN0SWQiLCJ1cGRhdGVBcnRpc3RSb3lhbHR5IiwiZnVsbFJveWFsdHkiLCJ0b3RhbFJveWFsdHlQYWlkIiwidG90YWxSb3lhbHR5RHVlIiwidG90YWxTdHJlYW1zIiwiZmluZE9uZUFuZFVwZGF0ZSIsIl9pZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJyb3lhbHR5UmVwb3NpdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSb3lhbHR5ID0gcmVxdWlyZSgnLi4vbW9kZWxzL3JveWFsdHlNb2RlbCcpO1xyXG5jb25zdCBTb25nPXJlcXVpcmUoJy4uL21vZGVscy9zb25nTW9kZWwnKTtcclxuY29uc3QgQXJ0aXN0ID0gcmVxdWlyZSgnLi4vbW9kZWxzL2FydGlzdE1vZGVsJyk7XHJcblxyXG5jbGFzcyBSb3lhbHR5UmVwb3NpdG9yeSB7XHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgcm95YWx0eVxyXG4gICAgYXN5bmMgY3JlYXRlKHJveWFsdHlJZCxhcnRpc3RJZCxzb25nSWQpIHtcclxuICAgICAgICBjb25zdCByb3lhbHR5ID0gbmV3IFJveWFsdHkoe3JveWFsdHlJZCxhcnRpc3RJZCxzb25nSWR9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJveWFsdHkuc2F2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCByb3lhbHR5IGJ5IElEXHJcbiAgICBhc3luYyBmaW5kQnlJZChyb3lhbHR5SWQpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgUm95YWx0eS5maW5kT25lKHsgcm95YWx0eUlkIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCByb3lhbHRpZXMgYnkgYXJ0aXN0IElEXHJcbiAgICBhc3luYyBmaW5kQnlBcnRpc3RJZChhcnRpc3RJZCkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBSb3lhbHR5LmZpbmQoeyBhcnRpc3RJZDphcnRpc3RJZCB9KS5wb3B1bGF0ZSgnYXJ0aXN0SWQnKS5wb3B1bGF0ZSgnc29uZ0lkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZmluZFNvbmdzQnlBcnRpc3RJZChhcnRpc3RJZCkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBTb25nLmZpbmQoeyBhcnRpc3RJZDphcnRpc3RJZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVBcnRpc3RSb3lhbHR5KGFydGlzdElkLCBmdWxsUm95YWx0eSwgdG90YWxSb3lhbHR5UGFpZCwgdG90YWxSb3lhbHR5RHVlLCB0b3RhbFN0cmVhbXMpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgQXJ0aXN0LmZpbmRPbmVBbmRVcGRhdGUoXHJcbiAgICAgICAgICAgIHsgX2lkOiBhcnRpc3RJZCB9LFxyXG4gICAgICAgICAgICB7IGZ1bGxSb3lhbHR5LCB0b3RhbFJveWFsdHlQYWlkLCB0b3RhbFJveWFsdHlEdWUsIHRvdGFsU3RyZWFtcyB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUm95YWx0eVJlcG9zaXRvcnk7XHJcbiJdLCJtYXBwaW5ncyI6IjQrREFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLE9BQU8sRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxFQUNqRCxLQUFNLENBQUFDLElBQUksRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUNDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxFQUN6QyxLQUFNLENBQUFFLE1BQU0sRUFBQU4sY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxFQUUvQyxLQUFNLENBQUFHLGlCQUFrQixDQUNwQjtBQUNBLEtBQU0sQ0FBQUMsTUFBTUEsQ0FBQ0MsU0FBUyxDQUFDQyxRQUFRLENBQUNDLE1BQU0sQ0FBRSxDQUFBWCxjQUFBLEdBQUFZLENBQUEsTUFDcEMsS0FBTSxDQUFBQyxPQUFPLEVBQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEdBQUksQ0FBQUQsT0FBTyxDQUFDLENBQUNPLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxFQUFDWCxjQUFBLEdBQUFHLENBQUEsTUFFekQsTUFBTyxNQUFNLENBQUFVLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FDL0IsQ0FFQTtBQUNBLEtBQU0sQ0FBQUMsUUFBUUEsQ0FBQ04sU0FBUyxDQUFFLENBQUFULGNBQUEsR0FBQVksQ0FBQSxNQUFBWixjQUFBLEdBQUFHLENBQUEsTUFDdEIsTUFBTyxNQUFNLENBQUFELE9BQU8sQ0FBQ2MsT0FBTyxDQUFDLENBQUVQLFNBQVUsQ0FBQyxDQUFDLENBQy9DLENBRUE7QUFDQSxLQUFNLENBQUFRLGNBQWNBLENBQUNQLFFBQVEsQ0FBRSxDQUFBVixjQUFBLEdBQUFZLENBQUEsTUFBQVosY0FBQSxHQUFBRyxDQUFBLE1BQzNCLE1BQU8sTUFBTSxDQUFBRCxPQUFPLENBQUNnQixJQUFJLENBQUMsQ0FBRVIsUUFBUSxDQUFDQSxRQUFTLENBQUMsQ0FBQyxDQUFDUyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUNBLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FDNUYsQ0FFQSxLQUFNLENBQUFDLG1CQUFtQkEsQ0FBQ1YsUUFBUSxDQUFFLENBQUFWLGNBQUEsR0FBQVksQ0FBQSxNQUFBWixjQUFBLEdBQUFHLENBQUEsTUFDaEMsTUFBTyxNQUFNLENBQUFFLElBQUksQ0FBQ2EsSUFBSSxDQUFDLENBQUVSLFFBQVEsQ0FBQ0EsUUFBUyxDQUFDLENBQUMsQ0FDakQsQ0FFQSxLQUFNLENBQUFXLG1CQUFtQkEsQ0FBQ1gsUUFBUSxDQUFFWSxXQUFXLENBQUVDLGdCQUFnQixDQUFFQyxlQUFlLENBQUVDLFlBQVksQ0FBRSxDQUFBekIsY0FBQSxHQUFBWSxDQUFBLE1BQUFaLGNBQUEsR0FBQUcsQ0FBQSxNQUM5RixNQUFPLE1BQU0sQ0FBQUcsTUFBTSxDQUFDb0IsZ0JBQWdCLENBQ2hDLENBQUVDLEdBQUcsQ0FBRWpCLFFBQVMsQ0FBQyxDQUNqQixDQUFFWSxXQUFXLENBQUVDLGdCQUFnQixDQUFFQyxlQUFlLENBQUVDLFlBQWEsQ0FDbkUsQ0FBQyxDQUNMLENBRUosQ0FBQ3pCLGNBQUEsR0FBQUcsQ0FBQSxNQUVEeUIsTUFBTSxDQUFDQyxPQUFPLENBQUd0QixpQkFBaUIiLCJpZ25vcmVMaXN0IjpbXX0=